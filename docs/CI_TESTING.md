# üß™ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CI

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CI –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ main.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± - —Å–∏–º—É–ª—è—Ü–∏—è CI

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é —Å–∏–º—É–ª—è—Ü–∏—é CI –ª–æ–∫–∞–ª—å–Ω–æ
./scripts/test_ci_locally.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –û—á–∏—â–∞–µ—Ç build –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ –≤ CI
- –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –í–°–ï —Ç–µ—Å—Ç—ã (–≤–∫–ª—é—á–∞—è performance –∏ stress)
- –°–æ–∑–¥–∞–µ—Ç –ø–∞–∫–µ—Ç—ã

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ act (GitHub Actions –ª–æ–∫–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ act:
```bash
./scripts/setup_local_ci.sh
```

### –ó–∞–ø—É—Å–∫ workflows:
```bash
# –¢–µ—Å—Ç quick_check workflow (–∫–∞–∫ –≤ PR)
act -W .github/workflows/quick_check.yml

# –¢–µ—Å—Ç release workflow (–∫–∞–∫ –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ)
act -W .github/workflows/release.yml

# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö workflows
act -l
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Docker –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω

## üåø –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ feature branch

–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `test/` –∏–ª–∏ `feature/`:

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É
git checkout -b test/ci-full-suite
git push origin test/ci-full-suite
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –≤ GitHub Actions.

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å –≤—ã–±–æ—Ä–æ–º —Ç–µ—Å—Ç–æ–≤:
1. –ò–¥–∏—Ç–µ –≤ GitHub ‚Üí Actions ‚Üí "Test feature branch (full suite)"
2. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–æ–≤:
   - `basic` - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
   - `performance` - —Ç–æ–ª—å–∫–æ performance —Ç–µ—Å—Ç—ã
   - `full` - –≤—Å–µ —Ç–µ—Å—Ç—ã

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –°–∫–æ—Ä–æ—Å—Ç—å | –¢–æ—á–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è |
|-------|----------|----------|-----------|------------|
| `test_ci_locally.sh` | ‚ö° –ë—ã—Å—Ç—Ä–æ | üéØ –í—ã—Å–æ–∫–∞—è | üü¢ –ü—Ä–æ—Å—Ç–∞—è | –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ |
| `act` | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ | üéØ –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | üü° –°—Ä–µ–¥–Ω—è—è | Docker |
| Feature branch | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ | üéØ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | üü¢ –ü—Ä–æ—Å—Ç–∞—è | GitHub |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:** `./scripts/test_ci_locally.sh`
2. **–î–ª—è —Ç–æ—á–Ω–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏:** `act -W .github/workflows/release.yml`
3. **–î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:** push –≤ `test/*` –≤–µ—Ç–∫—É

## üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ CI:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø–∞–¥–∞—é—Ç –≤ CI:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ CI –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–≤–µ—Ä—Å–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤, –û–°)
